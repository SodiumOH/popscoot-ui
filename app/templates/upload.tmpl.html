<md-dialog aria-label="">
  <form ng-cloak>
    <md-toolbar>
      <div class="md-toolbar-tools">
        <h2>Selet Image</h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="cancel()">
          <i class="fa fa-times fa-lg" aria-hidden="true"></i>
        </md-button>
      </div>
    </md-toolbar>

    <md-dialog-content md-padding>
      <form name="myForm">
        <md-button class="md-raised" ngf-select ng-model="picFile" accept="image/*">
          Select Picture</md-button>
          <div layout-gt-md="row" layou-padding>
            <div ngf-drop ng-model="picFile" ngf-pattern="image/*"
            style="background: #E4E4E4;
            overflow: hidden;
            width:500px;
            height:350px;">
            <img-crop area-type="square" image="picFile  | ngfDataUrl"                 
            result-image="croppedDataUrl" ng-init="croppedDataUrl=''">
          </img-crop>
        </div>
        <div layout="column">
          <span ng-if="croppedDataUrl">Preview</span>
          <img ng-src="{{croppedDataUrl}}" />
          <span ng-if="croppedDataUrl">Status</span>
          <span>{{uploadStatus}}</span>
        </div> 
      </div>

      <md-button class="md-raised" ng-click="upload(croppedDataUrl, picFile.name)">Upload</md-button> 

    </form>
  </md-dialog-content>

  <md-dialog-actions layout="row">
    <span ng-if="uploadStatus!=='Success'" flex>Please successfully upload image before "Update"</span>
   <md-button class="md-raised md-primary popscoot-primary" ng-click="updateMedia()" ng-disabled="uploadStatus!=='Success'">
     Update
   </md-button>
 </md-dialog-actions>
</form>
</md-dialog>